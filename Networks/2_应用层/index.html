
<!doctype html>
<html lang="zh" class="no-js">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  
  
  
  <link rel="icon" href="../../assets/images/favicon.png">
  <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.5.3">
  
  
  
  <title>2 应用层 - Notes Site</title>
  
  
  
  <link rel="stylesheet" href="../../assets/stylesheets/main.7a952b86.min.css">
  
  
  <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
  
  
  

  
  
  
  
  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
  <style>
    :root {
      --md-text-font:"Roboto";
      --md-code-font:"Roboto Mono"
    }
  </style>
  
  
  
  <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
  
  

  
  
  
</head>








<body dir="ltr" data-md-color-scheme="" data-md-color-primary="none"
  data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
      
      <a href="#_1" class="md-skip">
        跳转至
      </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
    

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Notes Site" class="md-header__button md-logo" aria-label="Notes Site" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Notes Site
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2 应用层
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
      
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
          
          
          <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Notes Site" class="md-nav__button md-logo" aria-label="Notes Site" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Notes Site
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Homepage
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Compiler
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Compiler" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Compiler
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          1 相关基础知识
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1 相关基础知识" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          1 相关基础知识
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/1%20%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1%20%E6%AD%A3%E8%A7%84%E5%AE%9A%E4%B9%89/" class="md-nav__link">
        1 正规定义
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/1%20%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2%20%E8%87%AA%E5%8A%A8%E6%9C%BA/" class="md-nav__link">
        2 自动机
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/1%20%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/3%20NFA%E8%BD%ACDFA/" class="md-nav__link">
        3 NFA转DFA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/1%20%E7%9B%B8%E5%85%B3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4%20%E6%9E%81%E5%B0%8F%E5%8C%96DFA/" class="md-nav__link">
        4 极小化DFA
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          2 上下文无关文法
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2 上下文无关文法" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          2 上下文无关文法
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/2%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%97%A0%E5%85%B3%E6%96%87%E6%B3%95/1%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%97%A0%E5%85%B3%E6%96%87%E6%B3%95%E7%9A%84%E5%AE%9A%E4%B9%89/" class="md-nav__link">
        1 上下文无关文法的定义
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/2%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%97%A0%E5%85%B3%E6%96%87%E6%B3%95/2%20%E4%BA%8C%E4%B9%89%E6%80%A7/" class="md-nav__link">
        2 二义性
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/2%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%97%A0%E5%85%B3%E6%96%87%E6%B3%95/3%20%E6%B6%88%E9%99%A4%E5%B7%A6%E9%80%92%E5%BD%92/" class="md-nav__link">
        3 消除左递归
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/2%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%97%A0%E5%85%B3%E6%96%87%E6%B3%95/4%20%E6%8F%90%E5%B7%A6%E5%9B%A0%E5%AD%90/" class="md-nav__link">
        4 提左因子
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          3 自上而下分析
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="3 自上而下分析" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          3 自上而下分析
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/3%20%E8%87%AA%E4%B8%8A%E8%80%8C%E4%B8%8B%E5%88%86%E6%9E%90/1%20%E8%87%AA%E4%B8%8A%E8%80%8C%E4%B8%8B%E5%88%86%E6%9E%90/" class="md-nav__link">
        1 自上而下分析
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/3%20%E8%87%AA%E4%B8%8A%E8%80%8C%E4%B8%8B%E5%88%86%E6%9E%90/2%20FIRST%E5%92%8CFOLLOW%E9%9B%86%E5%90%88/" class="md-nav__link">
        2 FIRST和FOLLOW集合
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/3%20%E8%87%AA%E4%B8%8A%E8%80%8C%E4%B8%8B%E5%88%86%E6%9E%90/3%20LL%281%29%E6%96%87%E6%B3%95/" class="md-nav__link">
        3 LL(1)文法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/3%20%E8%87%AA%E4%B8%8A%E8%80%8C%E4%B8%8B%E5%88%86%E6%9E%90/4%20%E9%A2%84%E6%B5%8B%E5%88%86%E6%9E%90/" class="md-nav__link">
        4 预测分析
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          4 自下而上分析
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="4 自下而上分析" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          4 自下而上分析
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/4%20%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/1%20%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        1 概述
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/4%20%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/2%20%E8%A7%84%E7%BA%A6/" class="md-nav__link">
        2 规约
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/4%20%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/3%20%E5%8F%A5%E6%9F%84/" class="md-nav__link">
        3 句柄
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/4%20%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/4%20%E7%A7%BB%E8%BF%9B%E8%A7%84%E7%BA%A6%E5%88%86%E6%9E%90/" class="md-nav__link">
        4 移进规约分析
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/4%20%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/5%20LR%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%EF%BC%881%EF%BC%89/" class="md-nav__link">
        5 LR语法分析（1）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/4%20%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/6%20LR%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%EF%BC%882%EF%BC%89/" class="md-nav__link">
        6 LR语法分析（2）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/4%20%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/7%20%E6%B4%BB%E5%89%8D%E7%BC%80/" class="md-nav__link">
        7 活前缀
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/4%20%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/8%20LR%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%EF%BC%883%EF%BC%89/" class="md-nav__link">
        8 LR语法分析（3）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/4%20%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/9%20%E5%85%B6%E4%BB%96%E6%96%87%E6%B3%95%E7%BB%93%E6%9E%84/" class="md-nav__link">
        9 其他文法结构
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_5">
          5 语法制导的翻译
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="5 语法制导的翻译" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          5 语法制导的翻译
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%9A%84%E7%BF%BB%E8%AF%91/1_%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%9A%84%E5%AE%9A%E4%B9%89/" class="md-nav__link">
        1 语法制导的定义
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%9A%84%E7%BF%BB%E8%AF%91/2_%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/" class="md-nav__link">
        2 翻译方案
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/5%20%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%9A%84%E7%BF%BB%E8%AF%91/3_%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E8%AE%A1%E7%AE%97/" class="md-nav__link">
        3 自下而上计算
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_6">
          6 类型检查
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="6 类型检查" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          6 类型检查
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/6%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5/1_%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E8%AF%B8%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        1 类型检查诸概念
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/6%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5/2_%E6%8F%8F%E8%BF%B0%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%AF%AD%E8%A8%80/" class="md-nav__link">
        2 描述类型系统的语言
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/6%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5/3_%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%99%A8/" class="md-nav__link">
        3 简单类型检查器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/6%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5/4_%E7%B1%BB%E5%9E%8B%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AD%89%E4%BB%B7/" class="md-nav__link">
        4 类型表达式等价
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/6%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5/5_%E5%A4%9A%E6%80%81%E5%87%BD%E6%95%B0/" class="md-nav__link">
        5 多态函数
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          IML
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IML" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          IML
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          1 数学基础
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1 数学基础" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          1 数学基础
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/1_%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/1_%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/" class="md-nav__link">
        1 线性代数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/1_%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/2_%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/" class="md-nav__link">
        2 概率论与数理统计
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/1_%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/3_%E4%BC%98%E5%8C%96/" class="md-nav__link">
        3 优化
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          2 模型评估
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2 模型评估" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          2 模型评估
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/2_%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0/%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E4%B8%8E%E9%80%89%E6%8B%A9/" class="md-nav__link">
        模型评估与选择
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          3 线性模型
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="3 线性模型" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          3 线性模型
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/3_%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/1_%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" class="md-nav__link">
        1 线性回归
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/3_%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/2_%E5%AF%B9%E6%95%B0%E5%87%A0%E7%8E%87%E5%9B%9E%E5%BD%92/" class="md-nav__link">
        2 对数几率回归
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/3_%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/3_%E7%BA%BF%E6%80%A7%E5%88%A4%E5%88%AB%E5%88%86%E6%9E%90/" class="md-nav__link">
        3 线性判别分析
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/3_%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/4_Lab1_%E5%AF%B9%E6%95%B0%E5%87%A0%E7%8E%87%E5%9B%9E%E5%BD%92/" class="md-nav__link">
        IML Lab1 report
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4">
          4 决策树
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="4 决策树" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          4 决策树
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/4_%E5%86%B3%E7%AD%96%E6%A0%91/1_%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B/" class="md-nav__link">
        1 基本流程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/4_%E5%86%B3%E7%AD%96%E6%A0%91/2_%E5%90%88%E9%80%82%E7%9A%84%E5%88%92%E5%88%86/" class="md-nav__link">
        2 合适的划分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/4_%E5%86%B3%E7%AD%96%E6%A0%91/3_%E5%89%AA%E6%9E%9D/" class="md-nav__link">
        3 剪枝
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/4_%E5%86%B3%E7%AD%96%E6%A0%91/4_%E5%A4%84%E7%90%86%E8%BF%9E%E7%BB%AD%E5%80%BC%E5%92%8C%E7%BC%BA%E5%A4%B1%E5%80%BC/" class="md-nav__link">
        4 处理连续值和缺失值
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_5">
          5 神经网络
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="5 神经网络" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          5 神经网络
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/5_%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/1_%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        1 概述
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/5_%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/2_%E6%84%9F%E7%9F%A5%E6%9C%BA/" class="md-nav__link">
        2 感知机
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/5_%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/3_%E5%A4%9A%E5%B1%82%E5%89%8D%E9%A6%88%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        3 多层前馈神经网络
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/5_%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/4_%E5%87%BD%E6%95%B0%E9%80%89%E6%8B%A9/" class="md-nav__link">
        4 函数选择
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6" type="checkbox" id="__nav_3_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_6">
          6 支持向量机
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="6 支持向量机" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          6 支持向量机
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/6_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/1_%E9%97%B4%E9%9A%94%E4%B8%8E%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F/" class="md-nav__link">
        1 间隔与支持向量
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/6_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/2_%E5%AF%B9%E5%81%B6%E9%97%AE%E9%A2%98/" class="md-nav__link">
        2 对偶问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/6_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/3_SMO%E7%AE%97%E6%B3%95/" class="md-nav__link">
        3 SMO算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/6_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/4_%E6%A0%B8%E6%8A%80%E5%B7%A7/" class="md-nav__link">
        4 核技巧
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/6_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/5_%E8%BD%AF%E9%97%B4%E9%9A%94/" class="md-nav__link">
        5 软间隔
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/6_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/6_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E5%9B%9E%E5%BD%92/" class="md-nav__link">
        6 支持向量回归
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../IML/6_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/7_Lab2_%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/" class="md-nav__link">
        IML Lab2 report
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Networks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Networks" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Networks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../1_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%92%8C%E5%9B%A0%E7%89%B9%E7%BD%91/" class="md-nav__link">
        1 计算机网络和因特网
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          2 应用层
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        2 应用层
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    应用层协议原理
  </a>
  
    <nav class="md-nav" aria-label="应用层协议原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    网络应用程序体系结构
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    进程与网络之间的接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app" class="md-nav__link">
    可供 APP 使用的运输服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    因特网提供的运输服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    应用层协议
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-http" class="md-nav__link">
    Web 和 HTTP
  </a>
  
    <nav class="md-nav" aria-label="Web 和 HTTP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    概述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    HTTP 概况
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    持续连接和非持续连接
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http_1" class="md-nav__link">
    HTTP 报文格式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookie" class="md-nav__link">
    Cookie
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    Web 缓存
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    条件 GET
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    电子邮件
  </a>
  
    <nav class="md-nav" aria-label="电子邮件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#smtp" class="md-nav__link">
    SMTP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smtp-http" class="md-nav__link">
    SMTP 与 HTTP 的对比
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    邮件访问协议
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    DNS：因特网的目录服务
  </a>
  
    <nav class="md-nav" aria-label="DNS：因特网的目录服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dns_1" class="md-nav__link">
    DNS 提供的其他服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns_2" class="md-nav__link">
    DNS 工作机理
  </a>
  
    <nav class="md-nav" aria-label="DNS 工作机理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    递归查询和迭代查询
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns_3" class="md-nav__link">
    DNS 缓存
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns_4" class="md-nav__link">
    DNS 记录和报文
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns_5" class="md-nav__link">
    DNS 报文
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#p2p" class="md-nav__link">
    P2P 文件分发
  </a>
  
    <nav class="md-nav" aria-label="P2P 文件分发">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    文件分发问题概述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    使用 客户端-服务器 架构传输文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#p2p_1" class="md-nav__link">
    使用 P2P 架构传输文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bittorrent" class="md-nav__link">
    使用 BitTorrent
  </a>
  
    <nav class="md-nav" aria-label="使用 BitTorrent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bittorrent_1" class="md-nav__link">
    BitTorrent 基础概念概述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bittorrent_2" class="md-nav__link">
    BitTorrent 连接概述
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    视频流
  </a>
  
    <nav class="md-nav" aria-label="视频流">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    流式视频存储
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dash" class="md-nav__link">
    流式多媒体：DASH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    内容分发网络
  </a>
  
    <nav class="md-nav" aria-label="内容分发网络">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cdn" class="md-nav__link">
    CDN 例子
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn_1" class="md-nav__link">
    CDN 集群选择策略
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    套接字编程
  </a>
  
    <nav class="md-nav" aria-label="套接字编程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp-tcp" class="md-nav__link">
    UDP 服务与 TCP 服务
  </a>
  
    <nav class="md-nav" aria-label="UDP 服务与 TCP 服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp" class="md-nav__link">
    UDP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    TCP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_1" class="md-nav__link">
    TCP 套接字编程
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../3_%E8%BF%90%E8%BE%93%E5%B1%82/" class="md-nav__link">
        3 运输层
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
              </div>
            </div>
          </div>
          
          
          
          <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    应用层协议原理
  </a>
  
    <nav class="md-nav" aria-label="应用层协议原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    网络应用程序体系结构
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    进程与网络之间的接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app" class="md-nav__link">
    可供 APP 使用的运输服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    因特网提供的运输服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    应用层协议
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-http" class="md-nav__link">
    Web 和 HTTP
  </a>
  
    <nav class="md-nav" aria-label="Web 和 HTTP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    概述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    HTTP 概况
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    持续连接和非持续连接
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http_1" class="md-nav__link">
    HTTP 报文格式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookie" class="md-nav__link">
    Cookie
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    Web 缓存
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    条件 GET
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    电子邮件
  </a>
  
    <nav class="md-nav" aria-label="电子邮件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#smtp" class="md-nav__link">
    SMTP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smtp-http" class="md-nav__link">
    SMTP 与 HTTP 的对比
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    邮件访问协议
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    DNS：因特网的目录服务
  </a>
  
    <nav class="md-nav" aria-label="DNS：因特网的目录服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dns_1" class="md-nav__link">
    DNS 提供的其他服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns_2" class="md-nav__link">
    DNS 工作机理
  </a>
  
    <nav class="md-nav" aria-label="DNS 工作机理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    递归查询和迭代查询
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns_3" class="md-nav__link">
    DNS 缓存
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns_4" class="md-nav__link">
    DNS 记录和报文
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns_5" class="md-nav__link">
    DNS 报文
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#p2p" class="md-nav__link">
    P2P 文件分发
  </a>
  
    <nav class="md-nav" aria-label="P2P 文件分发">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    文件分发问题概述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    使用 客户端-服务器 架构传输文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#p2p_1" class="md-nav__link">
    使用 P2P 架构传输文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bittorrent" class="md-nav__link">
    使用 BitTorrent
  </a>
  
    <nav class="md-nav" aria-label="使用 BitTorrent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bittorrent_1" class="md-nav__link">
    BitTorrent 基础概念概述
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bittorrent_2" class="md-nav__link">
    BitTorrent 连接概述
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    视频流
  </a>
  
    <nav class="md-nav" aria-label="视频流">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    流式视频存储
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dash" class="md-nav__link">
    流式多媒体：DASH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    内容分发网络
  </a>
  
    <nav class="md-nav" aria-label="内容分发网络">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cdn" class="md-nav__link">
    CDN 例子
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn_1" class="md-nav__link">
    CDN 集群选择策略
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    套接字编程
  </a>
  
    <nav class="md-nav" aria-label="套接字编程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp-tcp" class="md-nav__link">
    UDP 服务与 TCP 服务
  </a>
  
    <nav class="md-nav" aria-label="UDP 服务与 TCP 服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp" class="md-nav__link">
    UDP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    TCP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_1" class="md-nav__link">
    TCP 套接字编程
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
              </div>
            </div>
          </div>
          
          
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
              


  <h1>2 应用层</h1>

<h2 id="_1">应用层协议原理</h2>
<h3 id="_2">网络应用程序体系结构</h3>
<p><strong>应用程序体系结构</strong>：规定了如何在各种端系统上组织应用程序</p>
<ul>
<li><strong>客户-服务器体系结构</strong>：服务器总是打开的，并且有固定的、周知的地址；（Web, FTP, Telnet, Email 等）</li>
<li><strong>对等（P2P 体系结构）</strong>：应用程序在间断连接的主机对之间直接通信，主机对被称为对等方（文件共享 BitTorrent, P2P 协助下载, 视频会议等）</li>
</ul>
<p>在一对进程之间的通信会话场景中，发起通信（即在该会话开始时发起与其他进程的联系）的进程被标识为<strong>客户</strong>，在会话开始时等待联系的进程是<strong>服务器</strong>。</p>
<h3 id="_3">进程与网络之间的接口</h3>
<ul>
<li>
<p>一个进程通过一个称为<strong>套接字</strong>的软件接口向网络发送报文和从网络接收报文</p>
</li>
<li>
<p>套接字是同一台主机内<strong>应用层与运输层之间的接口</strong></p>
</li>
<li>
<p>由于该套接字是建立网络应用程序的可编程接口，因此套接字也称为应用程序和网络之间的<strong>应用程序编程接口</strong>（Application Programming Interface，API）</p>
</li>
<li>
<p>应用程序开发者可以控制套接字在<strong>应用层端</strong>的一切，但是对该套接字的<strong>运输层端</strong>几乎没有控制权</p>
</li>
<li>
<p>在因特网中，主机由其 IP 地址标识。除了知道报文发送目的地的主机地址外，发送进程还必须指定运行在接收主机上的接收进程（接收套接字），目的地端口号用于这个目的</p>
</li>
<li>
<p>一些流行的服务比如 Web 服务器，邮件服务器进程等有特定的端口号</p>
</li>
</ul>
<h3 id="app">可供 APP 使用的运输服务</h3>
<ul>
<li><strong>可靠数据传输</strong>：当一个运输协议提供这种服务时，发送进程只要将其数据传递进套接字，就可以完全相信该数据将能无差错地到达接收进程</li>
<li><strong>带宽敏感的应用</strong>：指对吞吐量有要求的应用</li>
<li><strong>定时保证</strong>：可以做到发送方注入进套接字中的每个比特到达接收方的套接字不迟于 100 ms 这种</li>
<li><strong>安全性</strong>：在发送主机中，运输协议能够加密由发送进程传输的所有数据，在接收主机中，运输层协议能够在将数据交付给接收进程之前解密这些数据</li>
</ul>
<h3 id="_4">因特网提供的运输服务</h3>
<p><strong>TCP服务</strong></p>
<ul>
<li>包括<strong>面向连接服务</strong>和<strong>可靠数据传输服务</strong>，当某个应用程序调用 TCP 作为其运输协议时，该应用程序就能获得来自 TCP 的这两种服务</li>
<li>TCP 协议还具有拥塞控制机制，这种服务不一定能为通信进程带来直接好处，但能为因特网带来整体好处</li>
</ul>
<div class="admonition info">
<p class="admonition-title">TCP 安全</p>
<ul>
<li>无论TCP还是UDP都没有提供任何加密机制</li>
<li>发送进程传进其套接字的数据，与经网络传送到目的进程的数据相同</li>
<li>因特网界已经研制了TCP的加强版本，称为安全套接字层（SSL）</li>
<li>SSL加强后的TCP提供了关键的进程到进程的安全性服务，包括加密、数据完整性和端点鉴别</li>
<li>SSL不是与TCP和UDP在相同层次上的第三种因特网运输协议，而是一种对TCP的加强，这种强化是在应用层上实现的</li>
<li>SSL有它自己的套接字API，这类似于传统的TCP套接字API</li>
</ul>
</div>
<p><strong>UDP服务</strong></p>
<ul>
<li>一种只提供必要服务的<strong>轻量级运输协议</strong></li>
<li>UDP 是无连接的，因此在两个进程通信前没有握手过程</li>
<li>UDP 协议提供<strong>不可靠数据传送服务</strong>，既不保证送达，也不保证按序送达</li>
<li>UDP 没有拥塞控制，UDP 的发送端可以用它选定的任何速率向其下层 （网络层）注入数据，但是实际速度受控于链路带宽</li>
<li>网络电话开发者通常愿意将该应用运行在 UDP 上，从而设法避开 TCP 的拥塞控制机制和分组开销。但因为许多防火墙被配置成阻挡（大多数类型的）UDP 流量，所以网络电话应用通常设计成如果 UDP 通信失败就使用 TCP 作为备份</li>
</ul>
<p><strong>因特网运输协议不提供的服务</strong></p>
<ul>
<li>现在的 TCP、UDP 不提供对吞吐量、定时的保证</li>
<li>但是它们已经被设计成尽最大可能对付这种保证的缺乏了，不然像微信电话这样的应用就不会运行的这么好了，但是不能说一定提供这种保证</li>
</ul>
<h3 id="_5">应用层协议</h3>
<p>应用层协议（application-layer protocol）定义了运行在不同端系统上的应用程序进程如何相互传递报文。</p>
<ul>
<li>应用层协议有公有和私有之分</li>
<li>应用层协议是网络应用的一部分</li>
</ul>
<h2 id="web-http">Web 和 HTTP</h2>
<h3 id="_6">概述</h3>
<p><strong>Web 页面</strong>（也叫文档）：由对象组成的</p>
<p><strong>对象</strong>：一个文件，诸如一个HTML文件、一个JPEG图形、一个Java小程序或一个视频片段这样的文件，且可通过一个 URL 寻址</p>
<ul>
<li>每个 URL 地址由两部分组成：存放对象的服务器主机名 和 对象的路径名。</li>
<li>例如：URL 地址 http://www.someSchool.edu/someDepartment/picture.gif，其中的 www.someSchool.edu 就是主机名，/someDepartment/picture.gif 就是路径名</li>
</ul>
<h3 id="http">HTTP 概况</h3>
<p>HTTP 定义了 Web 客户向 Web 服务器请求 Web 页面的方式，以及服务器向客户传送 Web页面的方式。</p>
<ul>
<li>HTTP 使用 TCP 作为支撑运输协议</li>
<li>HTTP 客户首先发起一个与服务器的 TCP 连接。一旦连接建立，该浏览器和服务器进程就可以通过套接字接口访问 TCP</li>
<li>客户向它的套接字接口发送 HTTP 请求报文并从它的套接字接口接收 HTTP 响应报文</li>
<li>服务器从它的套接字接口接收 HTTP 请求报文和向它的套接字接口发送 HTTP 响应报文</li>
<li>TCP 为 HTTP 提供可靠数据传输服务。这意味着，一个客户进程发出的每个 HTTP 请求报文最终能完整地到达服务器；类似地，服务器进程发出的每个 HTTP 响应报文最终能完整地到达客户。这是分层体系结构的优点 ——HTTP 不用考虑数据丢失和乱序的问题</li>
<li>HTTP 服务器并不保存关于客户的任何信息，HTTP 是一个无状态协议</li>
</ul>
<h3 id="_7">持续连接和非持续连接</h3>
<p><strong>非持续连接</strong>：每个请求/响应对是经一个单独的 TCP 连接发送，即每次请求和回复都要打开一个 TCP 连接</p>
<div class="admonition info">
<p class="admonition-title">非持续连接的例子</p>
<p><img alt="image-20221103195435897" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221103195435897.png" /></p>
<p>事实上，用户能够配置现代浏览器来控制连接的并行度。在默认方式下，大部分浏览器打开5 ~ 10个并行的 TCP 连接，而每条连接处理一个请求响应事务。如果用户愿意，最大并行连接数可以设置为 1，这样 10 条连接就会串行建立。使用并行连接可以缩短响应时间。</p>
</div>
<ul>
<li><strong>往返时间（Round-Trip Time, RTT）</strong>：指一个<strong>短</strong>分组从客户到服务器然后再返回客户所花费的时间。RTT 包括分组传播时延、分组在中间路由器和交换机上的排队时延以及分组处理时延</li>
<li>下面这个例子，粗略地讲，总的响应时间就是两个 RTT 加上服务器传输 HTML 文件的时间</li>
</ul>
<p><img alt="image-20221103201452590" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221103201452590.png" /></p>
<ul>
<li>非持续连接<strong>缺点</strong>1：必须为每一个请求的对象建立和维护一个全新的连接。对于每个这样的连接，在客户和服务器中都要分配 TCP 的缓冲区和保持 TCP 变量，这给Web服务器带来了严重的负担</li>
<li>非持续连接<strong>缺点</strong>2：每一个对象经受两倍 RTT 的交付时延，即一个 RTT 用于创建 TCP，另一个 RTT 用于请求和接收一个对象</li>
</ul>
<p><strong>持续连接</strong>：所有的请求及其响应经相同的 TCP 连接发送</p>
<ul>
<li>在采用 HTTP 1.1 持续连接的情况下，服务器在发送响应后保持该 TCP 连接打开</li>
<li>一般来说，如果一条连接经过一定时间间隔（一个可配置的超时间隔）仍未被使用，HTTP 服务器就关闭该连接</li>
</ul>
<h3 id="http_1">HTTP 报文格式</h3>
<p><strong>HTTP 请求报文</strong></p>
<div class="highlight"><pre><span></span><code><span class="nf">GET</span> <span class="nn">/somedir/page.html</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">www.someschool.edu</span>
<span class="na">Connection</span><span class="o">:</span> <span class="l">close</span>
<span class="na">User-agent</span><span class="o">:</span> <span class="l">Mozilla/5.0</span>
<span class="na">Accept-language</span><span class="o">:</span> <span class="l">fr</span>
</code></pre></div>
<p><strong>请求行</strong>：HTTP 请求报文的第一行，有 3 个字段：方法字段、URL 字段和 HTTP 版本字段</p>
<ul>
<li>方法字段可取：包括 GET、POST、HEAD、PUT、DELETE</li>
<li>当浏览器请求一个对象时，使用 GET 方法，在 URL 字段带有请求对象的标识</li>
</ul>
<p><img alt="image-20221103203525057" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221103203525057.png" /></p>
<p><strong>HTTP 响应报文</strong></p>
<div class="highlight"><pre><span></span><code><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK </span>
<span class="na">Connection</span><span class="o">:</span> <span class="l">close </span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Tue, 18 Aug 2015 15:44:04 GMT </span>
<span class="na">Server</span><span class="o">:</span> <span class="l">Apache/2.2.3 (CentOS) </span>
<span class="na">Last-Modified</span><span class="o">:</span> <span class="l">Tuer 18 Aug 2015 15:11:03 GMT </span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">6821 </span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/html </span>

(data data data data data ...)
</code></pre></div>
<p><img alt="image-20221103203719754" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221103203719754.png" /></p>
<h3 id="cookie">Cookie</h3>
<p>一个 Web 站点通常希望能够识别用户，可能是因为服务器希望限制用户的访问，或者因为它希望把内容与用户身份联系起来</p>
<p><img alt="image-20221103204524948" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221103204524948.png" /></p>
<p>Cookie 技术的四个组件：</p>
<ul>
<li>在 HTTP 响应报文中的一个 cookie 首部行</li>
<li>在 HTTP 请求报文中的一个 cookie 首部行</li>
<li>用户端系统中保留有一个 cookie 文件，并由用户的浏览器进行管理</li>
<li>位于 Web 站点的一个后端数据库</li>
</ul>
<h3 id="web">Web 缓存</h3>
<p>Web 缓存器也叫代理服务器，是能够代表初始 Web 服务器来满足 HTTP 请求的网络实体。</p>
<p><img alt="image-20221103204952784" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221103204952784.png" /></p>
<div class="admonition info">
<p class="admonition-title">举例</p>
<p>假设浏览器正在请求对象 http://www.someschool.edu/campus.gif</p>
<p>1）浏览器创建一个到 Web 缓存器的 TCP 连接，并向 Web 缓存器中的对象发送一个 HTTP 请求</p>
<p>2）Web 缓存器进行检查，看看本地是否存储了该对象副本。如果有，Web 缓存器就向客户浏览器用 HTTP 响应报文返回该对象</p>
<p>3）如果 Web 缓存器中没有该对象，它就打开一个与该对象的初始服务器的 TCP 连接。Web 缓存器则在这个缓存器到服务器的 TCP 连接上发送一个对该对象的 HTTP 请求。在收到该请求后，初始服务器向该 Web 缓存器发送具有该对象的 HTTP 响应</p>
<p>4）当 Web 缓存器接收到该对象时，它在本地存储空间<strong>存储一份副本</strong>，并向客户的浏览器用 HTTP 响应报文发送该副本（通过现有的客户浏览器和 Web 缓存器之间的 TCP 连接）</p>
</div>
<ul>
<li>Web 缓存器既是服务器又是客户</li>
<li>Web 缓存器通常由 ISP 购买并安装</li>
<li>Web 缓存器可以大大减少对客户请求的响应时间，特别是当客户与初始服务器之间的瓶颈带宽远低于客户与 Web 缓存器之间的瓶颈带宽时</li>
<li>Web 缓存器能够大大减少一个机构的接入链路到因特网的通信量。通过减少通信量，该机构（如一家公司或者一所大学）就不必急于增加带宽，因此降低了费用</li>
<li>内容分发网络（CDN）公司在因特网上安装了许多地理上分散的缓存器，因而使大量流量实现了本地化</li>
</ul>
<h3 id="get">条件 GET</h3>
<p>尽管高速缓存能减少用户感受到的响应时间，但也引入了一个新的问题，即存放在缓存器中的对象副本可能是陈旧的。HTTP 协议有一种机制，允许缓存器证实它的对象是最新的，即条件 GET 方法。</p>
<p>收到一个条件 GET 后：</p>
<ul>
<li>缓存器向 Web 服务器确认</li>
<li>如果更改了，就需要重新获得，并更新缓存</li>
<li>如果没更改，Web 服务器将发送一个 304 Not Modified 空体报文</li>
</ul>
<h2 id="_8">电子邮件</h2>
<p><img alt="image-20221103212728446" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221103212728446.png" /></p>
<p>因特网电子邮件系统的主要组成部分：</p>
<p><strong>用户代理</strong>：允许用户阅读、回复、转发、保存和撰写报文</p>
<ul>
<li>当 Alice 完成邮件撰写时，她的邮件代理向其邮件服务器发送邮件，此时邮件放在邮件 服务器的外出报文队列中</li>
<li>当 Bob 要阅读报文时，他的用户代理在其邮件服务器的邮箱中取得该报文</li>
</ul>
<p><strong>邮件服务器</strong></p>
<ul>
<li><strong>典型邮件发送过程</strong>：从发送方的用户代理开始，传输到发送方的邮件服务器，再传输到接收方的邮件服务器，然后在这里被分发到接收方的邮箱中</li>
<li>当 Bob 要在他的邮箱中读取该报文时，包含他邮箱的邮件服务器使用用户名和口令来鉴别 Bob 的身份</li>
<li>Alice 的邮箱须能处理 Bob 的邮件服务器的故障。如果Alice的服务器不能将邮件交付给Bob的服务器，Alice的邮件服务器在一个<strong>报文队列</strong>中保持该报文并在以后尝试再次发送。通常每30分钟左右进行一次尝试；如果几天后仍不能成功，服务器就删除该报文并 以电子邮件的形式通知 Alice</li>
</ul>
<p><strong>简单邮件传输协议</strong>（SMTP）</p>
<ul>
<li>SMTP 是因特网电子邮件中主要的应用层协议</li>
<li>SMTP 使用 TCP 可靠数据传输服务，从发送方的邮件服务器向接收方的邮件服务器发送邮件</li>
<li>SMTP 有两个部分：运行在发送方邮件服务器的客户端和运行在接收方邮件服务器的服务器端</li>
<li>每台邮件服务器上既运行 SMTP 的客户端也运行 SMTP 的服务器端</li>
</ul>
<h3 id="smtp">SMTP</h3>
<ul>
<li>SMTP 用于从发送方的邮件服务器发送报文到接收方的邮件服务器</li>
<li>在用 SMTP 传送邮件之前，需要将二进制多媒体数据编码为 ASCII 码，并且在使用 SMTP 传输后要求将相应的 ASCII 码邮件解码还原为多媒体数据（历史原因）</li>
</ul>
<div class="admonition info">
<p class="admonition-title">SMTP 的基本操作</p>
<p>假设Alice想给Bob发送一封简单的ASCII报文</p>
<p>1）Alice调用她的邮件代理程序并提供Bob的邮件地址，撰写报文，然后指示用户代理发送该报文</p>
<p>2）Alice的用户代理把报文发给她的邮件服务器，在那里该报文被放在报文队列中</p>
<p>3）运行在Alice的邮件服务器上的SMTP客户端<strong>发现了</strong>报文队列中的这个报文，它就创建一个到运行在Bob的邮件服务器上的SMTP服务器的TCP连接</p>
<p>4）在经过一些初始SMTP握手后，SMTP客户通过该TCP连接发送Alice的报文</p>
<p>5）在Bob的邮件服务器上，SMTP的服务器端接收该报文。Bob的邮件服务器然后将该报文放入Bob的邮箱中</p>
<p>6）在Bob方便的时候，他调用用户代理阅读该报文</p>
<p><img alt="image-20221103223117780" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221103223117780.png" /></p>
</div>
<ul>
<li>SMTP 一般不使用中间邮件服务器发送邮件，即使这两个邮件服务器位于地球的两端也是这样</li>
<li>如果 Bob 的邮件服务器没有开机，该报文会保留在 Alice 的邮件服务器上并等待进行新的尝试，这意味着邮件并不在中间的某个邮件服务器存留</li>
</ul>
<h3 id="smtp-http">SMTP 与 HTTP 的对比</h3>
<p>相同点：</p>
<ul>
<li>这两个协议都用于从一台主机向另一台主机传送文件</li>
<li>当进行文件传送时，持续的 HTTP 和 SMTP 都使用持续连接</li>
</ul>
<p>不同点：</p>
<ul>
<li>HTTP 主要是一个 pull protocol（拉协议），TCP 连接是由想接受文件的机器发起的</li>
<li>SMTP 主要是一个 push protocol，TCP 连接是由要发送该文件的机器发起的</li>
<li>SMTP 报文必须按照 7 比特 ASCII 码进行编码，而 HTTP 数据没有这种限制</li>
<li>对一个既包含文本又包含图形（也可能是其他媒体类型）的文档，HTTP 把每个对象封装到其自己的 HTTP 响应报文中，而 SMTP 则把所有报文对象放在一个报文之中</li>
</ul>
<h3 id="_9">邮件访问协议</h3>
<p><strong>为什么要将邮件代理和邮件服务器分离开？</strong></p>
<p>—— 邮件服务器管理用户的邮箱，并且运行 SMTP 的客户端和服务器端。如果 Bob 的邮件服务器位于他的 PC 上，那么为了能够及时接收可能在任何时候到达的新邮件，他的 PC 需要总是不间断地运行着并一直保持在线。</p>
<p><img alt="image-20221103224920671" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221103224920671.png" /></p>
<p>Bob 的用户代理不能使用 SMTP 得到报文，因为取报文是一个拉操作，而 SMTP 协议是一个推协议。</p>
<p>—— 引入一个特殊的邮件访问协议来解决这个难题，该协议将 Bob 邮件服务器上的报文传送给他的本地 PC</p>
<p><strong>目前流行的邮件访问协议</strong>：</p>
<ul>
<li>第三版邮局协议（POP3）</li>
<li>因特网邮件访问协议（IMAP）</li>
<li>HTTP</li>
</ul>
<h2 id="dns">DNS：因特网的目录服务</h2>
<p>DNS（Domain Name System，域名系统） 提供域名（主机名）到 IP 地址的映射</p>
<p><strong>DNS 是</strong>：</p>
<ul>
<li>由分层的 DNS 服务器实现的分布式数据库</li>
<li>一个使得主机能够查询分布式数据库的应用层协议</li>
<li>DNS 服务器通常是运行 BIND 软件的 UNIX 机器</li>
<li>DNS 协议运行在 UDP 之上，使用 53 号端口</li>
</ul>
<div class="admonition info">
<p class="admonition-title">使用 DNS 服务的例子</p>
<p>考虑运行在某用户主机上的一个浏览器（即一个HTTP客户）请求URL www.someschool.edu/index.html 页面时会发生什么现象。为了使用户的主机能够将一个HTTP请求报文发送到Web服务器 www.someschool.edu ，该用户主机必须获得www.someschool.edu 的IP地址。其做法如下。
1）同一台用户主机上运行着DNS应用的客户端。
2）浏览器从上述URL中抽取主机名www.someschool.edu ，并将这台主机名传给DNS应用的客户端。
3）DNS客户向DNS服务器发送一个包含主机名的请求。
4）DNS客户最终会收到一份回答报文，其中含有对应于该主机名的IP地址。
5）一旦浏览器接收到来自DNS的该IP地址，它能够向位于该IP地址80端口的HTTP服务器进程发起一个TCP连接。</p>
<p>从这个例子中，我们可以看到DNS给使用它的因特网应用带来了额外的时延，有时还相当可观。幸运的是，想获得的IP地址通常就缓存在一个附近的DNS服务器中，这有助于减少DNS的网络流量和DNS的平均时延。</p>
</div>
<h3 id="dns_1">DNS 提供的其他服务</h3>
<div class="highlight"><pre><span></span><code><span class="err">举例：</span>
<span class="err">    规范主机名：relay1.west-coast.enterprise.com</span>
<span class="err">    主机别名：www.enterprise.com</span>
</code></pre></div>
<p><strong>主机别名</strong></p>
<ul>
<li>有着复杂主机名的主机能拥有一个或者多个别名</li>
<li>主机别名（当存在时）比主机规范名更加容易记忆</li>
<li>应用程序可以调用 DNS 来获得主机别名对应的规范主机名以及主机的 IP 地址</li>
</ul>
<p><strong>邮件服务器别名</strong></p>
<ul>
<li>电子邮件应用程序可以调用 DNS 主机别名进行解析以获得该主机的规范主机名及其 IP 地址</li>
<li>MX 记录允许一个公司的邮件服务器和 Web 服务器使用相同（别名化的）的主机名</li>
</ul>
<p><strong>负载分配</strong></p>
<ul>
<li>繁忙的站点被冗余分布在多台服务器上，每台服务器均运行在不同的端系统上，每个都有着不同的 IP 地址，在这种情况下一个规范主机名与一个 IP 地址集合相联系</li>
<li>当客户对映射到某地址集合的名字发出一个 DNS 请求时，该服务器用 IP 地址的整个集合进行响应，但在每个回答中循环这些地址次序</li>
</ul>
<h3 id="dns_2">DNS 工作机理</h3>
<p><strong>集中式设计的问题</strong>：</p>
<ul>
<li>单点故障</li>
<li>通信容量：单个 DNS 服务器需要处理所有的 DNS 查询</li>
<li>远距离：低速、拥塞链路导致严重时延</li>
<li>维护：中央数据库庞大，需要频繁添加更新</li>
</ul>
<p><strong>分布式、层次式设计</strong>：</p>
<p><img alt="image-20221104100109007" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221104100109007.png" /></p>
<ul>
<li>还有另一类重要的DNS服务器，称为<strong>本地DNS服务器</strong>（local DNS server）</li>
<li>严格说来，一个本地DNS服务器并不属于该服务器的层次结构，但它对DNS层次结构是至关重要的</li>
<li>每个ISP都有一台本地DNS服务器（也叫默认名字服务器）</li>
<li>当主机发DNS请求时，该请求被发往本地DNS服务器，它起着代理的作用，并将该请求转发到DNS服务器层次结构中</li>
</ul>
<h4 id="_10">递归查询和迭代查询</h4>
<p><img alt="image-20221104100818129" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221104100818129.png" /></p>
<p>区分递归查询和迭代查询</p>
<ul>
<li>递归查询以自己的名义请求来获得该映射</li>
<li>迭代查询相当于帮别人请求</li>
<li>实践中，查询通常遵循左图模式：从请求主机到本地 DNS 服务器的查询是递归的，其余的查询是迭代的</li>
</ul>
<h3 id="dns_3">DNS 缓存</h3>
<ul>
<li>在一个请求链中，当某DNS服务器接收一个DNS回答时，它能将映射缓存在本地存储器中</li>
<li>如果在DNS服务器缓存命中，该DNS服务器就能够提供所要求的IP地址，即使它不是该主机名的权威服务器</li>
<li>由于主机和主机名与IP地址间的映射并不是永久的，DNS服务器在一段时间后（通常设置为两天）将丢弃缓存的信息</li>
<li>事实上，因为缓存，除了少数DNS查询以外，根服务器被绕过了</li>
</ul>
<h3 id="dns_4">DNS 记录和报文</h3>
<ul>
<li>DNS 数据库以<strong>资源记录</strong>（Resource Record, RR）形式保存数据</li>
<li>每个 DNS 回答报文包含了一条或多条资源记录</li>
</ul>
<p>资源记录是一个四元组：(name, value, type, TTL)</p>
<ul>
<li>TTL：记录的生存时间，决定了这个 RR 应当从缓存中被删除的时间</li>
<li>Type：决定了 Name 和 Value 的值</li>
</ul>
<table>
<thead>
<tr>
<th align="center">Type</th>
<th align="center">Name</th>
<th align="center">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">A</td>
<td align="center">主机名</td>
<td align="center">对应的 IP 地址</td>
</tr>
<tr>
<td align="center">NS</td>
<td align="center">域（如 foo.com）</td>
<td align="center">知道这个域 IP 地址的 权威 DNS 服务器 的主机名（如 dns.foo.com）</td>
</tr>
<tr>
<td align="center">CNAME</td>
<td align="center">别名</td>
<td align="center">规范主机名</td>
</tr>
<tr>
<td align="center">MX</td>
<td align="center">别名</td>
<td align="center">邮件服务器的规范主机名</td>
</tr>
</tbody>
</table>
<p>通过使用 MX 记录，一个公司的邮件服务器和其他服务器（如它的Web服务器）可以使用相同的别名：</p>
<ul>
<li>为了获得邮件服务器的规范主机名，DNS 客户应当请求一条 MX 记录</li>
<li>为了获得其他服务器的规范主机名，DNS 客户应当请求 CNAME 记录</li>
</ul>
<hr />
<p>如果一台 DNS 服务器<strong>是</strong>用于特定主机名（比如 cs.foo.com）的权威 DNS 服务器：</p>
<ul>
<li>DNS 服务器上有 A 记录</li>
</ul>
<p>如果一台 DNS 服务器<strong>不是</strong>用于特定主机名的权威 DNS 服务器：</p>
<ul>
<li>DNS 服务器上也可能有 cs.foo.com 的 A 记录缓存</li>
<li>DNS 服务器上有 NS 记录</li>
<li>DNS 服务器上有 NS 记录 Value 对应的 A 记录</li>
</ul>
<h3 id="dns_5">DNS 报文</h3>
<ul>
<li>DNS 有查询和回答报文两种报文</li>
<li>查询和回答报文格式相同</li>
</ul>
<p><img alt="image-20221104191802020" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221104191802020.png" /></p>
<h2 id="p2p">P2P 文件分发</h2>
<p>前面的应用采用 Client-Server 体系结构，依赖于总是打开的基础设施服务器。本节研究一个 P2P 体系结构应用：<strong>从单一服务器向大量主机（称为对等方）分发一个大文件</strong>。</p>
<ul>
<li>在 P2P 文件分发中，每个对等方能够向任何其他对等方重新分发它已经收到的该文件的任何部分，从而在分发过程中协助服务器</li>
<li>到 2016 年止，最为流行的 P2P 文件分发协议是 BitTorrent</li>
</ul>
<h3 id="_11">文件分发问题概述</h3>
<p><img alt="image-20221105102206193" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221105102206193.png" /></p>
<table>
<thead>
<tr>
<th align="center">符号</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><span class="arithmatex"><span class="MathJax_Preview">u_s</span><script type="math/tex">u_s</script></span></td>
<td align="center">服务器接入链路的上传速率</td>
</tr>
<tr>
<td align="center"><span class="arithmatex"><span class="MathJax_Preview">u_i</span><script type="math/tex">u_i</script></span></td>
<td align="center">第 <span class="arithmatex"><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 个对等方的接入链路的上传速率</td>
</tr>
<tr>
<td align="center"><span class="arithmatex"><span class="MathJax_Preview">d_i</span><script type="math/tex">d_i</script></span></td>
<td align="center">第 <span class="arithmatex"><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 个对等方的接入链路的下载速率</td>
</tr>
<tr>
<td align="center"><span class="arithmatex"><span class="MathJax_Preview">d_{min}</span><script type="math/tex">d_{min}</script></span></td>
<td align="center"><span class="arithmatex"><span class="MathJax_Preview">\min\{d_1,...d_N\}</span><script type="math/tex">\min\{d_1,...d_N\}</script></span></td>
</tr>
<tr>
<td align="center"><span class="arithmatex"><span class="MathJax_Preview">F</span><script type="math/tex">F</script></span></td>
<td align="center">被分发的文件长度（以比特计）</td>
</tr>
<tr>
<td align="center"><span class="arithmatex"><span class="MathJax_Preview">N</span><script type="math/tex">N</script></span></td>
<td align="center">需要获得该文件副本的对等方数量</td>
</tr>
<tr>
<td align="center"><span class="arithmatex"><span class="MathJax_Preview">D_{cs}</span><script type="math/tex">D_{cs}</script></span></td>
<td align="center">使用客户-服务器架构的分发时间</td>
</tr>
<tr>
<td align="center"><span class="arithmatex"><span class="MathJax_Preview">D_{P2P}</span><script type="math/tex">D_{P2P}</script></span></td>
<td align="center">使用 P2P 架构的分发时间</td>
</tr>
</tbody>
</table>
<p>其他假设：</p>
<ul>
<li>假设网络核心带宽足够，所有瓶颈都在接入链路</li>
<li>除了此任务外，没有其他任务占用上传和下载带宽</li>
</ul>
<h3 id="-">使用 客户端-服务器 架构传输文件</h3>
<ul>
<li>服务器向<strong>每一个</strong>对等方传输文件：<span class="arithmatex"><span class="MathJax_Preview">d_1=NF/u_s</span><script type="math/tex">d_1=NF/u_s</script></span></li>
<li>具有最小下载速率的对等方下载文件：<span class="arithmatex"><span class="MathJax_Preview">d_2=F/d_{min}</span><script type="math/tex">d_2=F/d_{min}</script></span></li>
<li>所以：<span class="arithmatex"><span class="MathJax_Preview">D_{cs}\geqslant \max\{d_1,d_2\}</span><script type="math/tex">D_{cs}\geqslant \max\{d_1,d_2\}</script></span></li>
</ul>
<h3 id="p2p_1">使用 P2P 架构传输文件</h3>
<ul>
<li>服务器至少经过接入链路发送文件一次：<span class="arithmatex"><span class="MathJax_Preview">d_1=F/u_s</span><script type="math/tex">d_1=F/u_s</script></span></li>
<li>具有最小下载速率的对等方下载文件：<span class="arithmatex"><span class="MathJax_Preview">d_2=F/d_{min}</span><script type="math/tex">d_2=F/d_{min}</script></span></li>
<li>系统整体的总上载能力：<span class="arithmatex"><span class="MathJax_Preview">u=u_s+\sum_{i=1}^Nu_i</span><script type="math/tex">u=u_s+\sum_{i=1}^Nu_i</script></span>，系统总共上传 <span class="arithmatex"><span class="MathJax_Preview">NF</span><script type="math/tex">NF</script></span> 比特，所需时间至少是 <span class="arithmatex"><span class="MathJax_Preview">d_3=NF/u</span><script type="math/tex">d_3=NF/u</script></span></li>
<li>所以：<span class="arithmatex"><span class="MathJax_Preview">D_{P2P}\geqslant\max\{d_1,d_2,d_3\}</span><script type="math/tex">D_{P2P}\geqslant\max\{d_1,d_2,d_3\}</script></span></li>
</ul>
<p>如果我们认为一旦每个对等方接收到一个比特就能够重分发一个比特的话，则存在一个重新分发方案能实际取得这种下界。</p>
<h3 id="bittorrent">使用 BitTorrent</h3>
<p>BitTorrent 是一种用于文件分发的流行 P2P 协议。</p>
<h4 id="bittorrent_1">BitTorrent 基础概念概述</h4>
<ul>
<li>参与一个特定文件分发的<strong>所有对等方的集合</strong>被称为一个<strong>洪流</strong>（torrent）</li>
<li>在一个洪流中的对等方彼此下载等长度的文件块</li>
<li>当一个对等方首次加入一个洪流时，它没有块</li>
<li>随着时间的流逝，它累积了越来越多的块</li>
<li>当它下载块时，也为其他对等方上传一些块</li>
<li>一旦某对等方获得了整个文件，它也许离开洪流，或留在该洪流中并继续向其他对等方上载块</li>
<li>任何对等方可能在仅具有块的子集时就离开该洪流，并在以后重新加入该洪流中</li>
<li>每个洪流具有一个基础设施节点，称为<strong>追踪器</strong></li>
<li>当一个对等方加入某洪流时，它向追踪器注册自己，并周期性地通知追踪器它仍在该洪流中，追踪器因此可跟踪参与在洪流中的对等方</li>
</ul>
<p><img alt="image-20221105104337547" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221105104337547.png" /></p>
<h4 id="bittorrent_2">BitTorrent 连接概述</h4>
<p>当一个新的对等方 Alice 加入洪流时：</p>
<ul>
<li>追踪器随机从参与对等方的集合中选择对等方的一个子集（比如，50 个）</li>
<li>追踪器将这 50 个对等方的 IP 地址发送给 Alice</li>
<li>Alice 持有对等方的这张列表，试图与该列表上的所有对等方创建并行的 TCP 连接</li>
</ul>
<blockquote>
<ul>
<li>称所有这样与 Alice 成功地创建一个 TCP 连接的对等方为 “<strong>邻近对等方</strong>”（如图 2-23 中有 3 个临近对等方）</li>
<li>随着时间的流逝，这些对等方中的某些可能离开，其他对等方（最初 50 个以外的）可能试图与 Alice 创建 TCP 连接</li>
<li>结论：一个对等方的邻近对等方是随时间而改变的</li>
</ul>
</blockquote>
<ul>
<li>在任何给定的时间，每个对等方具有文件的块的子集，并且不同的对等方具有不同的子集</li>
<li>Alice 周期性地（经TCP连接）询问每个邻近对等方它们所具有的块列表。如果 Alice 具有 <span class="arithmatex"><span class="MathJax_Preview">L</span><script type="math/tex">L</script></span> 个不同的邻居，她将获得 <span class="arithmatex"><span class="MathJax_Preview">L</span><script type="math/tex">L</script></span> 个块列表</li>
<li>有了这个信息，Alice 将对她<strong>当前还没有的块</strong>发出请求（仍通过TCP连接）</li>
</ul>
<p>上述过程中两个问题：</p>
<p><strong>Alice 应当从她的邻居请求哪些块呢</strong>？</p>
<ul>
<li>Alice 使用<strong>最稀缺优先</strong>的技术</li>
<li>Alice 首先请求她没有的、且在所有邻居中数量最少（最稀缺）的块</li>
<li>最稀缺块得到更为迅速的重新分发，其目标是大致地均衡每个块在洪流中的副本数量</li>
</ul>
<p><strong>Alice 应当向哪些向她请求块的邻居发送块</strong>？</p>
<p>BitTorrent 使用了一种对换算法（“<strong>一报还一报</strong>”）来处理这个问题</p>
<ul>
<li>Alice 对于她的每个邻居都持续地测量收到比特的速率，并确定以最高速率流入的 4 个邻居（BitTorrent 称这 4 个对等方为<strong>疏通</strong>）</li>
<li>Alice 根据当前能够以最高速率向她提供数据的邻居，给出其优先权</li>
<li>每过 10 秒，她重新计算该速率并可能修改这4个对等方的集合</li>
<li>每过 30 秒，她要随机地选择另外一个邻居（比如 Bob）并向其发送块</li>
<li>因为 Alice 正在向 Bob 发送数据，她可能成为 Bob 前 4 位上载者之一，这样的话 Bob 将开始向 Alice 发送数据。如果 Bob 向 Alice 发送数据的速率足够高，Bob 接下来也能成为 Alice 的前 4 位上载者</li>
<li>每过 30 秒 Alice 将随机地选择一名新的对换伴侣并开始与那位伴侣进行对换。如果这两名对等方<strong>都满足此对换</strong>，它们将对方放入其前 4 位列表中并继续与对方进行对换，直到该对等方之一发现了一个<strong>更好的伴侣</strong>为止</li>
<li>这种效果是对等方能够以趋向于找到彼此的协调的速率上载</li>
</ul>
<h2 id="_12">视频流</h2>
<ul>
<li>视频是一系列的图像，通常以一种恒定的帧率来展现</li>
<li>一幅未压缩、数字编码的图像由<strong>像素阵列</strong>组成，其中每个像素是由一些比特编码来表示亮度和颜色</li>
<li>图像编码技术利用图像的帧内冗余（空间冗余）和帧间冗余（时间冗余）来减少需要使用的比特数</li>
<li>视频的一个重要特征是它能够被压缩，因而可用比特率来权衡视频质量。今天现成的压缩算法能够将一个视频压缩成所希望的任何比特率。当然，比特率越高，图像质量越好</li>
<li>从网络的观点看，也许视频最为突出的特征是它的高比特率。压缩的因特网视频的比特率范围：</li>
</ul>
<table>
<thead>
<tr>
<th align="center">视频质量</th>
<th align="center">比特率</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">低质量视频</td>
<td align="center">100 kbps</td>
</tr>
<tr>
<td align="center">流式高分辨率电影</td>
<td align="center">超过 3 Mbps</td>
</tr>
<tr>
<td align="center">4K 流式</td>
<td align="center">超过 10 Mbps</td>
</tr>
</tbody>
</table>
<ul>
<li>对流式视频的最为重要的性能度量是<strong>平均端到端吞吐量</strong></li>
<li>为了提供<strong>连续不断</strong>的布局，网络必须为流式应用提供平均吞吐量，这个流式应用至少与压缩视频的比特率一样大</li>
</ul>
<h3 id="_13">流式视频存储</h3>
<p><img alt="image-20221105111222889" src="../2_%E5%BA%94%E7%94%A8%E5%B1%82.assets/image-20221105111222889.png" /></p>
<ul>
<li>视频作为一个普通文件，保存在 HTTP 服务器中</li>
<li>服务器与客户建立 TCP 连接，发送文件</li>
<li>视频应用周期性地从应用缓存中取帧、解码、展示</li>
<li><strong>问题：所有客户使用相同的编码速率（server video 相同，编码也相同）</strong></li>
</ul>
<h3 id="dash">流式多媒体：DASH</h3>
<p>Dynamic, Adaptive Streaming over HTTP</p>
<p><strong>服务器</strong>：</p>
<ul>
<li>将视频文件划分成多个块</li>
<li>每个块以不同的码率编码和存储 </li>
<li>元文件为不同的块提供URL</li>
</ul>
<p><strong>客户</strong>：</p>
<ul>
<li>周期性地测量到服务器的网络带宽</li>
<li>查询元文件，每次请求一个块 </li>
<li>选择当前带宽可支持的最大码率</li>
<li>不同时刻可以选择不同码率的块</li>
</ul>
<p><strong>客户端能够 “智能地” 确定</strong>：</p>
<ul>
<li>什么时候请求块（避免缓存不足或溢出）</li>
<li>请求什么码率的块（获得当前最好的视频质量） </li>
<li>向谁请求块（离客户最近或具有最高带宽的URL） </li>
</ul>
<p><strong>如何将内容流式传输给同时在线的大量用户？</strong></p>
<p><strong>方法1</strong>：使用一个巨型服务器（不可行）</p>
<ul>
<li>单点故障</li>
<li>网络拥塞点</li>
<li>远端用户传输距离长，跨多个 ISP，带宽低</li>
<li>同一条链路上传输多个视频拷贝，浪费带宽</li>
</ul>
<p><strong>方法2</strong>：在地理上分布的多个站点存储和提供服务 (CDN)</p>
<ul>
<li>enter deep：将CDN服务器深入部署到大量接入网中，靠近用户 </li>
<li>bring home：将少量（几十个）较大的集群部署在靠近接入网的 POP 中</li>
</ul>
<h3 id="_14">内容分发网络</h3>
<p>在多个CDN站点存储内容的拷贝</p>
<p>用户从CDN请求内容：</p>
<ul>
<li>用户请求被定向到附近的站点，获取内容</li>
<li>网络拥塞时，可向不同的站点请求内容拷贝</li>
</ul>
<h4 id="cdn">CDN 例子</h4>
<ul>
<li>假定一个内容提供商 NetCinema</li>
<li>NetCinema 雇佣第三方 CDN 公司 KingCDN 来向其客户分发视频</li>
<li>在 NetCinema 的 Web 网页上每个视频都被指派了一个 URL，该 URL 包括了字符串 “video” 以及该视频本身的独特标识符（如 BV 号）</li>
</ul>
<p>当用户访问位于 NetCinema 的 Web 网页 http://video.netcinema.com/6Y7B23V 时：</p>
<ul>
<li>用户主机发送了一个对于 video.netcinema.com 的 DNS 请求</li>
<li>用户的本地 DNS 服务器（LDNS）将该 DNS 请求中继到一台用于 NetCinema 的权威 DNS 服务器</li>
<li>权威 DNS 服务器观察到主机名 video.netcinema.com 中的字符串 “video”，其向 LDNS 返回一个 KingCDN 域的主机名，如 a1105.kingcdn.com</li>
<li>DNS 请求进入了 KingCDN 专用 DNS 基础设施</li>
<li>用户的 LDNS 发送第 二个请求，此时是对 a1105.kingcdn.com 的 DNS 请求</li>
<li>KingCDN 的 DNS 系统向 LDNS 返回 KingCDN 内容服务器的IP地址</li>
<li>LDNS 向用户主机转发内容服务 CDN 节点的 IP 地址</li>
<li>用户主机与具有该 IP 地址的服务器创建 了一条直接的 TCP 连接，并且发出对该视频的HTTP GET请求</li>
</ul>
<blockquote>
<p>如果使用了 DASH，服务器将首先向客户发送具有 URL 列表的告示文件，每个 URL 对应视频的每个版本，并且客户将动态地选择来自不同版本的块</p>
</blockquote>
<h4 id="cdn_1">CDN 集群选择策略</h4>
<p><span style="color:blue">指派客户到<strong>地理上最为邻近</strong>的集群</span></p>
<ul>
<li>对于众多用户来说能够工作得相当好</li>
<li>但对某些客户，该解决方案可能执行的效果差</li>
<li>因为就<strong>网络路径的长度或跳数而言</strong>，地理最邻近的集群可能并不是最近的集群</li>
<li>所有基于 DNS 的方法都内在具有的问题是，某些端用户配置使用位于远地的 Local DNS，在这种情况下，LDNS 位置可能远离客户的位置</li>
<li>这种策略忽略了时延和可用带宽随因特网路径时间而变化，总是为特定的客户指派相同的集群</li>
</ul>
<p><span style="color:blue">基于当前流量条件为客户决定最好的集群</span></p>
<ul>
<li>CDN 能够对其集群和客户之间的时延和丢包性能执行<strong>周期性的实时测量</strong></li>
<li>一个缺点是许多 LDNS 被配置为不会响应这些探测</li>
</ul>
<h2 id="_15">套接字编程</h2>
<p>网络应用程序有两类：</p>
<ul>
<li>由协议标准中所定义的操作的实现，这样的应用程序有时称为“开放”的，因为定义其操作的这些规则为人们所共知</li>
<li>专用的网络应用程序。客户和服务器程序应用的应用层协议没有公开。其他独立的开发者将不能开发出和该应用程序交互的代码</li>
</ul>
<h3 id="udp-tcp">UDP 服务与 TCP 服务</h3>
<h4 id="udp">UDP</h4>
<ul>
<li>报文传输服务</li>
<li>由于没有建立管道，应用程序发送每个报文必须给出远程进程地址</li>
<li>服务器使用一个进程和一个套接字为所有客户服务，一次请求-响应完成一次服务</li>
</ul>
<h4 id="tcp">TCP</h4>
<ul>
<li>字节流传输服务</li>
<li>由于建立了管道，应用程序只需向套接字中写入字节序列，不需指出远程进程地址</li>
<li>服务器为每个客户单独生成一个套接字和一个新进程，允许双方长时间通信</li>
</ul>
<h3 id="tcp_1">TCP 套接字编程</h3>
<ul>
<li>TCP 是一个面向连接的协议，客户和服务器能够开始互相发送数据之前先要握手和创建一个TCP连接</li>
<li>TCP 服务器在客户试图发起接触前必须作为进程运行起来</li>
<li>服务器程序必须具有一个特殊的套接字，用以欢迎来自运行在<strong>任意主机</strong>上的客户进程的某种初始接触</li>
<li>在三次握手期间，服务器会生成一个新套接字（连接套接字）用于这次客户请求的连接</li>
</ul>





              
              <!-- 添加的一行，访问数 -->
              <span id="busuanzi_container_page_pv" style="margin: 0 0 20px;padding: 0;color: var(--color-basic-700);text-align: center;font-size: 13px;text-transform: capitalize">本文阅读量<span id="busuanzi_value_page_pv"></span>
                <script src="https://utteranc.es/client.js" repo="SproutNan/Notes22F" issue-term="pathname"
                  label="comment" theme="github-light" crossorigin="anonymous" async>
                  </script>
            </article>
          </div>
          
          
        </div>
        
      </main>
      
      <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="页脚" >
      
        
        <a href="../1_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%92%8C%E5%9B%A0%E7%89%B9%E7%BD%91/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 1 计算机网络和因特网" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              1 计算机网络和因特网
            </div>
          </div>
        </a>
      
      
        
        <a href="../3_%E8%BF%90%E8%BE%93%E5%B1%82/" class="md-footer__link md-footer__link--next" aria-label="下一页: 3 运输层" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              3 运输层
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
    <script src="../../assets/javascripts/bundle.37e9125f.min.js"></script>
    
    <script src="../../mathjax-config.js"></script>
    
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    
  </body>

</html>